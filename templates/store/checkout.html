{#<h2>To‘lov qilish</h2>#}
{##}
{#<form method="post">#}
{#    {% csrf_token %}#}
{#    <p>To‘lov usulini tanlang:</p>#}
{#    <label><input type="radio" name="payment_method" value="cash" required> Naqd</label><br>#}
{#    <label><input type="radio" name="payment_method" value="card" required id="card-option"> Karta orqali</label><br><br>#}
{##}
{#    <div id="card-info" style="display: none;">#}
{#        <label>Karta raqami:</label><br>#}
{#        <input type="text" name="card_number" maxlength="16" placeholder="XXXX XXXX XXXX XXXX">#}
{#    </div>#}
{##}
{#    <button type="submit">To‘lovni amalga oshirish</button>#}
{#</form>#}
{##}
{#<script>#}
{#    const cardOption = document.getElementById('card-option');#}
{#    const cardInfo = document.getElementById('card-info');#}
{##}
{#    document.querySelectorAll('input[name="payment_method"]').forEach(input => {#}
{#        input.addEventListener('change', function() {#}
{#            if (this.value === 'card') {#}
{#                cardInfo.style.display = 'block';#}
{#            } else {#}
{#                cardInfo.style.display = 'none';#}
{#            }#}
{#        });#}
{#    });#}
{#</script>#}

<h2>To‘lov qilish</h2>

{% if error %}
    <p style="color:red;">{{ error }}</p>
{% endif %}

<form method="post">
    {% csrf_token %}
    <p>To‘lov usulini tanlang:</p>
    <label><input type="radio" name="payment_method" value="cash" required> Naqd</label><br>
    <label><input type="radio" name="payment_method" value="card" required id="card-option"> Karta orqali</label><br><br>

    <div id="card-info" style="display: none;">
        <label>Karta raqami:</label><br>
        <input type="text" name="card_number" maxlength="16" placeholder="XXXX XXXX XXXX XXXX">
    </div>

    <button type="submit">To‘lovni amalga oshirish</button>
</form>

<script>
    const cardOption = document.getElementById('card-option');
    const cardInfo = document.getElementById('card-info');

    document.querySelectorAll('input[name="payment_method"]').forEach(input => {
        input.addEventListener('change', function() {
            cardInfo.style.display = this.value === 'card' ? 'block' : 'none';
        });
    });
</script>
